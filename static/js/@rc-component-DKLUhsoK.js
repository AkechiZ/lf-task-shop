import{c as e,f as t,g as n,e as r,h as o,_ as i,a,b as u}from"./@babel-Bb0hnufx.js";import{r as l}from"./react-Dt43AXdo.js";import{r as s}from"./react-dom-DXzNLLV7.js";import{c,u as f,d as v,a as m,r as h,s as d,e as p,f as g,h as y,i as b,j as N,k as E,g as w,l as S,m as x}from"./rc-util-DKUN63E2.js";import{c as M}from"./classnames-DuRG1NoC.js";import{R as k}from"./rc-resize-observer-kawTBywu.js";import{C}from"./rc-motion-B-lo2aFh.js";var I=l.createContext(null),A=[];var R="rc-util-locker-".concat(Date.now()),P=0;function D(t){var n=!!t,r=l.useState((function(){return P+=1,"".concat(R,"_").concat(P)})),o=e(r,1)[0];f((function(){if(n){var e=v(document.body).width,t=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;m("\nhtml body {\n  overflow-y: hidden;\n  ".concat(t?"width: calc(100% - ".concat(e,"px);"):"","\n}"),o)}else h(o);return function(){h(o)}}),[n,o])}var L=!1;var T=function(e){return!1!==e&&(c()&&e?"string"==typeof e?document.querySelector(e):"function"==typeof e?e():e:null)},_=l.forwardRef((function(n,r){var o=n.open,i=n.autoLock,a=n.getContainer;n.debug;var u=n.autoDestroy,v=void 0===u||u,m=n.children,h=l.useState(o),g=e(h,2),y=g[0],b=g[1],N=y||o;l.useEffect((function(){(v||o)&&b(o)}),[o,v]);var E=l.useState((function(){return T(a)})),w=e(E,2),S=w[0],x=w[1];l.useEffect((function(){var e=T(a);x(null!=e?e:null)}));var M=function(n,r){var o=l.useState((function(){return c()?document.createElement("div"):null})),i=e(o,1)[0],a=l.useRef(!1),u=l.useContext(I),s=l.useState(A),v=e(s,2),m=v[0],h=v[1],d=u||(a.current?void 0:function(e){h((function(n){return[e].concat(t(n))}))});function p(){i.parentElement||document.body.appendChild(i),a.current=!0}function g(){var e;null===(e=i.parentElement)||void 0===e||e.removeChild(i),a.current=!1}return f((function(){return n?u?u(p):p():g(),g}),[n]),f((function(){m.length&&(m.forEach((function(e){return e()})),h(A))}),[m]),[i,d]}(N&&!S),k=e(M,2),C=k[0],R=k[1],P=null!=S?S:C;D(i&&o&&c()&&(P===C||P===document.body));var _=null;m&&d(m)&&r&&(_=m.ref);var F=p(_,r);if(!N||!c()||void 0===S)return null;var X,B=!1===P||("boolean"==typeof X&&(L=X),L),H=m;return r&&(H=l.cloneElement(m,{ref:F})),l.createElement(I.Provider,{value:R},B?H:s.createPortal(H,P))}));function F(e){var t=e.prefixCls,n=e.align,r=e.arrow,o=e.arrowPos,i=r||{},a=i.className,u=i.content,s=o.x,c=void 0===s?0:s,f=o.y,v=void 0===f?0:f,m=l.useRef();if(!n||!n.points)return null;var h={position:"absolute"};if(!1!==n.autoArrow){var d=n.points[0],p=n.points[1],g=d[0],y=d[1],b=p[0],N=p[1];g!==b&&["t","b"].includes(g)?"t"===g?h.top=0:h.bottom=0:h.top=v,y!==N&&["l","r"].includes(y)?"l"===y?h.left=0:h.right=0:h.left=c}return l.createElement("div",{ref:m,className:M("".concat(t,"-arrow"),a),style:h},u)}function X(e){var t=e.prefixCls,r=e.open,o=e.zIndex,i=e.mask,a=e.motion;return i?l.createElement(C,n({},a,{motionAppear:!0,visible:r,removeOnLeave:!0}),(function(e){var n=e.className;return l.createElement("div",{style:{zIndex:o},className:M("".concat(t,"-mask"),n)})})):null}var B=l.memo((function(e){return e.children}),(function(e,t){return t.cache})),H=l.forwardRef((function(t,o){var i=t.popup,a=t.className,u=t.prefixCls,s=t.style,c=t.target,v=t.onVisibleChanged,m=t.open,h=t.keepDom,d=t.fresh,p=t.onClick,y=t.mask,b=t.arrow,N=t.arrowPos,E=t.align,w=t.motion,S=t.maskMotion,x=t.forceRender,I=t.getPopupContainer,A=t.autoDestroy,R=t.portal,P=t.zIndex,D=t.onMouseEnter,L=t.onMouseLeave,T=t.onPointerEnter,_=t.ready,H=t.offsetX,W=t.offsetY,Y=t.offsetR,z=t.offsetB,O=t.onAlign,j=t.onPrepare,V=t.stretch,G=t.targetWidth,$=t.targetHeight,q="function"==typeof i?i():i,J=m||h,K=(null==I?void 0:I.length)>0,Q=l.useState(!I||!K),U=e(Q,2),Z=U[0],ee=U[1];if(f((function(){!Z&&K&&c&&ee(!0)}),[Z,K,c]),!Z)return null;var te="auto",ne={left:"-1000vw",top:"-1000vh",right:te,bottom:te};if(_||!m){var re,oe=E.points,ie=E.dynamicInset||(null===(re=E._experimental)||void 0===re?void 0:re.dynamicInset),ae=ie&&"r"===oe[0][1],ue=ie&&"b"===oe[0][0];ae?(ne.right=Y,ne.left=te):(ne.left=H,ne.right=te),ue?(ne.bottom=z,ne.top=te):(ne.top=W,ne.bottom=te)}var le={};return V&&(V.includes("height")&&$?le.height=$:V.includes("minHeight")&&$&&(le.minHeight=$),V.includes("width")&&G?le.width=G:V.includes("minWidth")&&G&&(le.minWidth=G)),m||(le.pointerEvents="none"),l.createElement(R,{open:x||J,getContainer:I&&function(){return I(c)},autoDestroy:A},l.createElement(X,{prefixCls:u,open:m,zIndex:P,mask:y,motion:S}),l.createElement(k,{onResize:O,disabled:!m},(function(e){return l.createElement(C,n({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:x,leavedClassName:"".concat(u,"-hidden")},w,{onAppearPrepare:j,onEnterPrepare:j,visible:m,onVisibleChanged:function(e){var t;null==w||null===(t=w.onVisibleChanged)||void 0===t||t.call(w,e),v(e)}}),(function(t,n){var i=t.className,c=t.style,f=M(u,i,a);return l.createElement("div",{ref:g(e,o,n),className:f,style:r(r(r(r({"--arrow-x":"".concat(N.x||0,"px"),"--arrow-y":"".concat(N.y||0,"px")},ne),le),c),{},{boxSizing:"border-box",zIndex:P},s),onMouseEnter:D,onMouseLeave:L,onPointerEnter:T,onClick:p},b&&l.createElement(F,{prefixCls:u,arrow:b,arrowPos:N,align:E}),l.createElement(B,{cache:!m&&!d},q))}))})))})),W=l.forwardRef((function(e,t){var n=e.children,r=e.getTriggerDOMNode,o=d(n),i=l.useCallback((function(e){y(t,r?r(e):e)}),[r]),a=p(i,n.ref);return o?l.cloneElement(n,{ref:a}):n})),Y=l.createContext(null);function z(e){return e?Array.isArray(e)?e:[e]:[]}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function j(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function V(e){return e.ownerDocument.defaultView}function G(e){for(var t=[],n=null==e?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var o=V(n).getComputedStyle(n);[o.overflowX,o.overflowY,o.overflow].some((function(e){return r.includes(e)}))&&t.push(n),n=n.parentElement}return t}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function q(e){return $(parseFloat(e),0)}function J(e,t){var n=r({},e);return(t||[]).forEach((function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=V(e).getComputedStyle(e),r=t.overflow,o=t.overflowClipMargin,i=t.borderTopWidth,a=t.borderBottomWidth,u=t.borderLeftWidth,l=t.borderRightWidth,s=e.getBoundingClientRect(),c=e.offsetHeight,f=e.clientHeight,v=e.offsetWidth,m=e.clientWidth,h=q(i),d=q(a),p=q(u),g=q(l),y=$(Math.round(s.width/v*1e3)/1e3),b=$(Math.round(s.height/c*1e3)/1e3),N=(v-m-p-g)*y,E=(c-f-h-d)*b,w=h*b,S=d*b,x=p*y,M=g*y,k=0,C=0;if("clip"===r){var I=q(o);k=I*y,C=I*b}var A=s.x+x-k,R=s.y+w-C,P=A+s.width+2*k-x-M-N,D=R+s.height+2*C-w-S-E;n.left=Math.max(n.left,A),n.top=Math.max(n.top,R),n.right=Math.min(n.right,P),n.bottom=Math.min(n.bottom,D)}})),n}function K(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function Q(t,n){var r=e(n||[],2),o=r[0],i=r[1];return[K(t.width,o),K(t.height,i)]}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function Z(e,t){var n,r=t[0],o=t[1];return n="t"===r?e.y:"b"===r?e.y+e.height:e.y+e.height/2,{x:"l"===o?e.x:"r"===o?e.x+e.width:e.x+e.width/2,y:n}}function ee(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map((function(e,r){return r===t?n[e]||"c":e})).join("")}var te=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const ne=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;return l.forwardRef((function(i,a){var u=i.prefixCls,s=void 0===u?"rc-trigger-popup":u,c=i.children,v=i.action,m=void 0===v?"hover":v,h=i.showAction,d=i.hideAction,p=i.popupVisible,g=i.defaultPopupVisible,y=i.onPopupVisibleChange,C=i.afterPopupVisibleChange,I=i.mouseEnterDelay,A=i.mouseLeaveDelay,R=void 0===A?.1:A,P=i.focusDelay,D=i.blurDelay,L=i.mask,T=i.maskClosable,_=void 0===T||T,F=i.getPopupContainer,X=i.forceRender,B=i.autoDestroy,q=i.destroyPopupOnHide,K=i.popup,ne=i.popupClassName,re=i.popupStyle,oe=i.popupPlacement,ie=i.builtinPlacements,ae=void 0===ie?{}:ie,ue=i.popupAlign,le=i.zIndex,se=i.stretch,ce=i.getPopupClassNameFromAlign,fe=i.fresh,ve=i.alignPoint,me=i.onPopupClick,he=i.onPopupAlign,de=i.arrow,pe=i.popupMotion,ge=i.maskMotion,ye=i.popupTransitionName,be=i.popupAnimation,Ne=i.maskTransitionName,Ee=i.maskAnimation,we=i.className,Se=i.getTriggerDOMNode,xe=o(i,te),Me=B||q||!1,ke=l.useState(!1),Ce=e(ke,2),Ie=Ce[0],Ae=Ce[1];f((function(){Ae(S())}),[]);var Re=l.useRef({}),Pe=l.useContext(Y),De=l.useMemo((function(){return{registerSubPopup:function(e,t){Re.current[e]=t,null==Pe||Pe.registerSubPopup(e,t)}}}),[Pe]),Le=x(),Te=l.useState(null),_e=e(Te,2),Fe=_e[0],Xe=_e[1],Be=l.useRef(null),He=b((function(e){Be.current=e,N(e)&&Fe!==e&&Xe(e),null==Pe||Pe.registerSubPopup(Le,e)})),We=l.useState(null),Ye=e(We,2),ze=Ye[0],Oe=Ye[1],je=l.useRef(null),Ve=b((function(e){N(e)&&ze!==e&&(Oe(e),je.current=e)})),Ge=l.Children.only(c),$e=(null==Ge?void 0:Ge.props)||{},qe={},Je=b((function(e){var t,n,r=ze;return(null==r?void 0:r.contains(e))||(null===(t=w(r))||void 0===t?void 0:t.host)===e||e===r||(null==Fe?void 0:Fe.contains(e))||(null===(n=w(Fe))||void 0===n?void 0:n.host)===e||e===Fe||Object.values(Re.current).some((function(t){return(null==t?void 0:t.contains(e))||e===t}))})),Ke=j(s,pe,be,ye),Qe=j(s,ge,Ee,Ne),Ue=l.useState(g||!1),Ze=e(Ue,2),et=Ze[0],tt=Ze[1],nt=null!=p?p:et,rt=b((function(e){void 0===p&&tt(e)}));f((function(){tt(p||!1)}),[p]);var ot=l.useRef(nt);ot.current=nt;var it=l.useRef([]);it.current=[];var at=b((function(e){var t;rt(e),(null!==(t=it.current[it.current.length-1])&&void 0!==t?t:nt)!==e&&(it.current.push(e),null==y||y(e))})),ut=l.useRef(),lt=function(){clearTimeout(ut.current)},st=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;lt(),0===t?at(e):ut.current=setTimeout((function(){at(e)}),1e3*t)};l.useEffect((function(){return lt}),[]);var ct=l.useState(!1),ft=e(ct,2),vt=ft[0],mt=ft[1];f((function(e){e&&!nt||mt(!0)}),[nt]);var ht=l.useState(null),dt=e(ht,2),pt=dt[0],gt=dt[1],yt=l.useState([0,0]),bt=e(yt,2),Nt=bt[0],Et=bt[1],wt=function(e){Et([e.clientX,e.clientY])},St=function(t,n,o,i,a,u,s){var c=l.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[i]||{}}),v=e(c,2),m=v[0],h=v[1],d=l.useRef(0),p=l.useMemo((function(){return n?G(n):[]}),[n]),g=l.useRef({});t||(g.current={});var y=b((function(){if(n&&o&&t){let t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oe,r=P.x+e,o=P.y+t,i=r+W,a=o+H,u=Math.max(r,n.left),l=Math.max(o,n.top),s=Math.min(i,n.right),c=Math.min(a,n.bottom);return Math.max(0,(s-u)*(c-l))},Et=function(){be=P.y+De,Ne=be+H,Ee=P.x+Pe,we=Ee+W};var l,c,f,v=n,m=v.ownerDocument,d=V(v).getComputedStyle(v),y=d.width,b=d.height,w=d.position,S=v.style.left,x=v.style.top,M=v.style.right,k=v.style.bottom,C=v.style.overflow,I=r(r({},a[i]),u),A=m.createElement("div");if(null===(l=v.parentElement)||void 0===l||l.appendChild(A),A.style.left="".concat(v.offsetLeft,"px"),A.style.top="".concat(v.offsetTop,"px"),A.style.position=w,A.style.height="".concat(v.offsetHeight,"px"),A.style.width="".concat(v.offsetWidth,"px"),v.style.left="0",v.style.top="0",v.style.right="auto",v.style.bottom="auto",v.style.overflow="hidden",Array.isArray(o))f={x:o[0],y:o[1],width:0,height:0};else{var R=o.getBoundingClientRect();f={x:R.x,y:R.y,width:R.width,height:R.height}}var P=v.getBoundingClientRect(),D=m.documentElement,L=D.clientWidth,T=D.clientHeight,_=D.scrollWidth,F=D.scrollHeight,X=D.scrollTop,B=D.scrollLeft,H=P.height,W=P.width,Y=f.height,z=f.width,O={left:0,top:0,right:L,bottom:T},j={left:-B,top:-X,right:_-B,bottom:F-X},G=I.htmlRegion,q="visible",K="visibleFirst";"scroll"!==G&&G!==K&&(G=q);var te=G===K,ne=J(j,p),re=J(O,p),oe=G===q?re:ne,ie=te?re:oe;v.style.left="auto",v.style.top="auto",v.style.right="0",v.style.bottom="0";var ae=v.getBoundingClientRect();v.style.left=S,v.style.top=x,v.style.right=M,v.style.bottom=k,v.style.overflow=C,null===(c=v.parentElement)||void 0===c||c.removeChild(A);var ue=$(Math.round(W/parseFloat(y)*1e3)/1e3),le=$(Math.round(H/parseFloat(b)*1e3)/1e3);if(0===ue||0===le||N(o)&&!E(o))return;var se=I.offset,ce=I.targetOffset,fe=Q(P,se),ve=e(fe,2),me=ve[0],he=ve[1],de=Q(f,ce),pe=e(de,2),ge=pe[0],ye=pe[1];f.x-=ge,f.y-=ye;var be,Ne,Ee,we,Se=I.points||[],xe=e(Se,2),Me=xe[0],ke=U(xe[1]),Ce=U(Me),Ie=Z(f,ke),Ae=Z(P,Ce),Re=r({},I),Pe=Ie.x-Ae.x+me,De=Ie.y-Ae.y+he,Le=t(Pe,De),Te=t(Pe,De,re),_e=Z(f,["t","l"]),Fe=Z(P,["t","l"]),Xe=Z(f,["b","r"]),Be=Z(P,["b","r"]),He=I.overflow||{},We=He.adjustX,Ye=He.adjustY,ze=He.shiftX,Oe=He.shiftY,je=function(e){return"boolean"==typeof e?e:e>=0};Et();var Ve=je(Ye),Ge=Ce[0]===ke[0];if(Ve&&"t"===Ce[0]&&(Ne>ie.bottom||g.current.bt)){var $e=De;Ge?$e-=H-Y:$e=_e.y-Be.y-he;var qe=t(Pe,$e),Je=t(Pe,$e,re);qe>Le||qe===Le&&(!te||Je>=Te)?(g.current.bt=!0,De=$e,he=-he,Re.points=[ee(Ce,0),ee(ke,0)]):g.current.bt=!1}if(Ve&&"b"===Ce[0]&&(be<ie.top||g.current.tb)){var Ke=De;Ge?Ke+=H-Y:Ke=Xe.y-Fe.y-he;var Qe=t(Pe,Ke),Ue=t(Pe,Ke,re);Qe>Le||Qe===Le&&(!te||Ue>=Te)?(g.current.tb=!0,De=Ke,he=-he,Re.points=[ee(Ce,0),ee(ke,0)]):g.current.tb=!1}var Ze=je(We),et=Ce[1]===ke[1];if(Ze&&"l"===Ce[1]&&(we>ie.right||g.current.rl)){var tt=Pe;et?tt-=W-z:tt=_e.x-Be.x-me;var nt=t(tt,De),rt=t(tt,De,re);nt>Le||nt===Le&&(!te||rt>=Te)?(g.current.rl=!0,Pe=tt,me=-me,Re.points=[ee(Ce,1),ee(ke,1)]):g.current.rl=!1}if(Ze&&"r"===Ce[1]&&(Ee<ie.left||g.current.lr)){var ot=Pe;et?ot+=W-z:ot=Xe.x-Fe.x-me;var it=t(ot,De),at=t(ot,De,re);it>Le||it===Le&&(!te||at>=Te)?(g.current.lr=!0,Pe=ot,me=-me,Re.points=[ee(Ce,1),ee(ke,1)]):g.current.lr=!1}Et();var ut=!0===ze?0:ze;"number"==typeof ut&&(Ee<re.left&&(Pe-=Ee-re.left-me,f.x+z<re.left+ut&&(Pe+=f.x-re.left+z-ut)),we>re.right&&(Pe-=we-re.right-me,f.x>re.right-ut&&(Pe+=f.x-re.right+ut)));var lt=!0===Oe?0:Oe;"number"==typeof lt&&(be<re.top&&(De-=be-re.top-he,f.y+Y<re.top+lt&&(De+=f.y-re.top+Y-lt)),Ne>re.bottom&&(De-=Ne-re.bottom-he,f.y>re.bottom-lt&&(De+=f.y-re.bottom+lt)));var st=P.x+Pe,ct=st+W,ft=P.y+De,vt=ft+H,mt=f.x,ht=mt+z,dt=f.y,pt=dt+Y,gt=(Math.max(st,mt)+Math.min(ct,ht))/2-st,yt=(Math.max(ft,dt)+Math.min(vt,pt))/2-ft;null==s||s(n,Re);var bt=ae.right-P.x-(Pe+P.width),Nt=ae.bottom-P.y-(De+P.height);h({ready:!0,offsetX:Pe/ue,offsetY:De/le,offsetR:bt/ue,offsetB:Nt/le,arrowX:gt/ue,arrowY:yt/le,scaleX:ue,scaleY:le,align:Re})}})),w=function(){h((function(e){return r(r({},e),{},{ready:!1})}))};return f(w,[i]),f((function(){t||w()}),[t]),[m.ready,m.offsetX,m.offsetY,m.offsetR,m.offsetB,m.arrowX,m.arrowY,m.scaleX,m.scaleY,m.align,function(){d.current+=1;var e=d.current;Promise.resolve().then((function(){d.current===e&&y()}))}]}(nt,Fe,ve?Nt:ze,oe,ae,ue,he),xt=e(St,11),Mt=xt[0],kt=xt[1],Ct=xt[2],It=xt[3],At=xt[4],Rt=xt[5],Pt=xt[6],Dt=xt[7],Lt=xt[8],Tt=xt[9],_t=xt[10],Ft=function(e,t,n,r){return l.useMemo((function(){var o=z(null!=n?n:t),i=z(null!=r?r:t),a=new Set(o),u=new Set(i);return e&&(a.has("hover")&&(a.delete("hover"),a.add("click")),u.has("hover")&&(u.delete("hover"),u.add("click"))),[a,u]}),[e,t,n,r])}(Ie,m,h,d),Xt=e(Ft,2),Bt=Xt[0],Ht=Xt[1],Wt=Bt.has("click"),Yt=Ht.has("click")||Ht.has("contextMenu"),zt=b((function(){vt||_t()}));!function(e,n,r,o,i){f((function(){if(e&&n&&r){let e=function(){o(),i()};var a=r,u=G(n),l=G(a),s=V(a),c=new Set([s].concat(t(u),t(l)));return c.forEach((function(t){t.addEventListener("scroll",e,{passive:!0})})),s.addEventListener("resize",e,{passive:!0}),o(),function(){c.forEach((function(t){t.removeEventListener("scroll",e),s.removeEventListener("resize",e)}))}}}),[e,n,r])}(nt,ze,Fe,zt,(function(){ot.current&&ve&&Yt&&st(!1)})),f((function(){zt()}),[Nt,oe]),f((function(){!nt||null!=ae&&ae[oe]||zt()}),[JSON.stringify(ue)]);var Ot=l.useMemo((function(){var e=function(e,t,n,r){for(var o=n.points,i=Object.keys(e),a=0;a<i.length;a+=1){var u,l=i[a];if(O(null===(u=e[l])||void 0===u?void 0:u.points,o,r))return"".concat(t,"-placement-").concat(l)}return""}(ae,s,Tt,ve);return M(e,null==ce?void 0:ce(Tt))}),[Tt,ce,ae,s,ve]);l.useImperativeHandle(a,(function(){return{nativeElement:je.current,popupElement:Be.current,forceAlign:zt}}));var jt=l.useState(0),Vt=e(jt,2),Gt=Vt[0],$t=Vt[1],qt=l.useState(0),Jt=e(qt,2),Kt=Jt[0],Qt=Jt[1],Ut=function(){if(se&&ze){var e=ze.getBoundingClientRect();$t(e.width),Qt(e.height)}};function Zt(e,t,n,r){qe[e]=function(o){var i;null==r||r(o),st(t,n);for(var a=arguments.length,u=new Array(a>1?a-1:0),l=1;l<a;l++)u[l-1]=arguments[l];null===(i=$e[e])||void 0===i||i.call.apply(i,[$e,o].concat(u))}}f((function(){pt&&(_t(),pt(),gt(null))}),[pt]),(Wt||Yt)&&(qe.onClick=function(e){var t;ot.current&&Yt?st(!1):!ot.current&&Wt&&(wt(e),st(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(t=$e.onClick)||void 0===t||t.call.apply(t,[$e,e].concat(r))}),function(e,t,n,r,o,i,a,u){var s=l.useRef(e);s.current=e,l.useEffect((function(){if(t&&r&&(!o||i)){var e=function(e){var t=e.target;s.current&&!a(t)&&u(!1)},l=V(r);l.addEventListener("mousedown",e,!0),l.addEventListener("contextmenu",e,!0);var c=w(n);return c&&(c.addEventListener("mousedown",e,!0),c.addEventListener("contextmenu",e,!0)),function(){l.removeEventListener("mousedown",e,!0),l.removeEventListener("contextmenu",e,!0),c&&(c.removeEventListener("mousedown",e,!0),c.removeEventListener("contextmenu",e,!0))}}}),[t,n,r,o,i])}(nt,Yt,ze,Fe,L,_,Je,st);var en,tn,nn=Bt.has("hover"),rn=Ht.has("hover");nn&&(Zt("onMouseEnter",!0,I,(function(e){wt(e)})),Zt("onPointerEnter",!0,I,(function(e){wt(e)})),en=function(e){(nt||vt)&&null!=Fe&&Fe.contains(e.target)&&st(!0,I)},ve&&(qe.onMouseMove=function(e){var t;null===(t=$e.onMouseMove)||void 0===t||t.call($e,e)})),rn&&(Zt("onMouseLeave",!1,R),Zt("onPointerLeave",!1,R),tn=function(){st(!1,R)}),Bt.has("focus")&&Zt("onFocus",!0,P),Ht.has("focus")&&Zt("onBlur",!1,D),Bt.has("contextMenu")&&(qe.onContextMenu=function(e){var t;ot.current&&Ht.has("contextMenu")?st(!1):(wt(e),st(!0)),e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(t=$e.onContextMenu)||void 0===t||t.call.apply(t,[$e,e].concat(r))}),we&&(qe.className=M($e.className,we));var on=r(r({},$e),qe),an={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(e){xe[e]&&(an[e]=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null===(t=on[e])||void 0===t||t.call.apply(t,[on].concat(r)),xe[e].apply(xe,r)})}));var un=l.cloneElement(Ge,r(r({},on),an)),ln={x:Rt,y:Pt},sn=de?r({},!0!==de?de:{}):null;return l.createElement(l.Fragment,null,l.createElement(k,{disabled:!nt,ref:Ve,onResize:function(){Ut(),zt()}},l.createElement(W,{getTriggerDOMNode:Se},un)),l.createElement(Y.Provider,{value:De},l.createElement(H,{portal:n,ref:He,prefixCls:s,popup:K,className:M(ne,Ot),style:re,target:ze,onMouseEnter:en,onMouseLeave:tn,onPointerEnter:en,zIndex:le,open:nt,keepDom:vt,fresh:fe,onClick:me,mask:L,motion:Ke,maskMotion:Qe,onVisibleChanged:function(e){mt(!1),_t(),null==C||C(e)},onPrepare:function(){return new Promise((function(e){Ut(),gt((function(){return e}))}))},forceRender:X,autoDestroy:Me,getPopupContainer:F,align:Tt,arrow:sn,arrowPos:ln,ready:Mt,offsetX:kt,offsetY:Ct,offsetR:It,offsetB:At,onAlign:zt,stretch:se,targetWidth:Gt/Dt,targetHeight:Kt/Lt})))}))}(_);function re(){return"function"==typeof BigInt}function oe(e){return!e&&0!==e&&!Number.isNaN(e)||!String(e).trim()}function ie(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),(t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(t="0".concat(t));var r=t||"0",o=r.split("."),i=o[0]||"0",a=o[1]||"0";"0"===i&&"0"===a&&(n=!1);var u=n?"-":"";return{negative:n,negativeStr:u,trimStr:r,integerStr:i,decimalStr:a,fullStr:"".concat(u).concat(r)}}function ae(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function ue(e){var t=String(e);if(ae(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return null!=r&&r[1]&&(n+=r[1].length),n}return t.includes(".")&&se(t)?t.length-t.indexOf(".")-1:0}function le(e){var t=String(e);if(ae(e)){if(e>Number.MAX_SAFE_INTEGER)return String(re()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(re()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(ue(t))}return ie(t).fullStr}function se(e){return"number"==typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}var ce=function(){function e(t){if(a(this,e),u(this,"origin",""),u(this,"negative",void 0),u(this,"integer",void 0),u(this,"decimal",void 0),u(this,"decimalLen",void 0),u(this,"empty",void 0),u(this,"nan",void 0),oe(t))this.empty=!0;else if(this.origin=String(t),"-"===t||Number.isNaN(t))this.nan=!0;else{var n=t;if(ae(n)&&(n=Number(n)),se(n="string"==typeof n?n:le(n))){var r=ie(n);this.negative=r.negative;var o=r.trimStr.split(".");this.integer=BigInt(o[0]);var i=o[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}}return i(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(t)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"cal",value:function(t,n,r){var o=Math.max(this.getDecimalStr().length,t.getDecimalStr().length),i=n(this.alignDecimal(o),t.alignDecimal(o)).toString(),a=r(o),u=ie(i),l=u.negativeStr,s=u.trimStr,c="".concat(l).concat(s.padStart(a+1,"0"));return new e("".concat(c.slice(0,-a),".").concat(c.slice(-a)))}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=new e(t);return n.isInvalidate()?this:this.cal(n,(function(e,t){return e+t}),(function(e){return e}))}},{key:"multi",value:function(t){var n=new e(t);return this.isInvalidate()||n.isInvalidate()?new e(NaN):this.cal(n,(function(e,t){return e*t}),(function(e){return 2*e}))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(null==e?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.isInvalidate()?"":ie("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}(),fe=function(){function e(t){a(this,e),u(this,"origin",""),u(this,"number",void 0),u(this,"empty",void 0),oe(t)?this.empty=!0:(this.origin=String(t),this.number=Number(t))}return i(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=Number(t);if(Number.isNaN(n))return this;var r=this.number+n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var o=Math.max(ue(this.number),ue(n));return new e(r.toFixed(o))}},{key:"multi",value:function(t){var n=Number(t);if(this.isInvalidate()||Number.isNaN(n))return new e(NaN);var r=this.number*n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var o=Math.max(ue(this.number),ue(n));return new e(r.toFixed(o))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(null==e?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.isInvalidate()?"":le(this.number):this.origin}}]),e}();function ve(e){return re()?new ce(e):new fe(e)}function me(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(""===e)return"";var o=ie(e),i=o.negativeStr,a=o.integerStr,u=o.decimalStr,l="".concat(t).concat(u),s="".concat(i).concat(a);if(n>=0){var c=Number(u[n]);return c>=5&&!r?me(ve(e).add("".concat(i,"0.").concat("0".repeat(n)).concat(10-c)).toString(),t,n,r):0===n?s:"".concat(s).concat(t).concat(u.padEnd(n,"0").slice(0,n))}return".0"===l?s:"".concat(s).concat(l)}export{_ as P,ne as T,ue as a,me as b,ve as g,le as n,ie as t,se as v};
